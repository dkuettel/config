#!/bin/zsh -eux
set -o pipefail

i=$1 # todo use tty output?
#startx /usr/bin/xmonad-session -- :$1 vt$1 -nolisten tcp
#startx /usr/bin/gnome-session --session=gnome-flashback-xmonad -- :$1 vt$1 -nolisten tcp

startx /usr/sbin/lightdm-session xmonad-session -- :$1 vt$1 -nolisten tcp

# see https://askubuntu.com/questions/150487/what-happens-under-the-covers-to-log-me-in-and-start-up-unity-or-another-graphic
# explains much, but even if we manage to start a second X with all the right settings exactly as lightdm (fonts, mouse, ...)
# even then chrome runs as a single instance for that users so it won't open on the new X it seems

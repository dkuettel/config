#!/bin/zsh
set -eu -o pipefail

# if venv is already active run $1
# else, if there is a local venv and it has $1, run it there
# else, use the global environment

if [[ -v VIRTUAL_ENV ]]; then
    $@
elif [[ -e .venv/bin/$1 ]]; then
    vv $@
else
    $@
fi

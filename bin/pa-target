#!/bin/zsh
set -eu -o pipefail

target=${1:?specify target to enable}

# config for base
devices=(
    alsa_card.pci-0000_09_00.1,output:hdmi-stereo,speakers
    alsa_card.pci-0000_0b_00.4,output:analog-stereo,headphones
    bluez_card.2C_41_A1_49_96_07,a2dp_sink,bose
)

for device in $devices; do
    device=(${(@s/,/)device})
    if [[ $device[3] == $target ]]; then
        pactl set-card-profile $device[1] $device[2] >&/dev/null && echo "$device[3] on" || echo "no $device[3]"
    else
        pactl set-card-profile $device[1] off >&/dev/null && echo "$device[3] off" || echo "no $device[3]"
    fi
done
